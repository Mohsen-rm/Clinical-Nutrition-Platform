{"ast":null,"code":"var _jsxFileName = \"/Users/mohsen/Desktop/Clinical_Nutrition_Platform/frontend/src/pages/NutritionPlan.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport useAuthStore from '../store/authStore';\nimport AdminNutritionView from '../components/nutrition/AdminNutritionView';\nimport DoctorNutritionView from '../components/nutrition/DoctorNutritionView';\nimport PatientNutritionView from '../components/nutrition/PatientNutritionView';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NutritionPlan = () => {\n  _s();\n  var _diseasesResponse$dat, _nutritionPlansRespon, _whatsappResponse$dat, _subscriptionResponse, _demoData$disease_exa;\n  const {\n    isDoctor,\n    isAdmin,\n    user,\n    isAuthenticated\n  } = useAuthStore();\n\n  // Return appropriate view based on user role\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900 mb-4\",\n          children: \"Please log in to access nutrition planning\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"You need to be logged in to view your nutrition plans and use our tools.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Admin gets full system access\n  if (isAdmin()) {\n    return /*#__PURE__*/_jsxDEV(AdminNutritionView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Doctor gets professional tools\n  if (isDoctor()) {\n    return /*#__PURE__*/_jsxDEV(DoctorNutritionView, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Patient gets simplified view\n  return /*#__PURE__*/_jsxDEV(PatientNutritionView, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 10\n  }, this);\n  const [calculatorData, setCalculatorData] = useState({\n    age: '',\n    weight: '',\n    height: '',\n    gender: 'male',\n    activity_level: 'moderate',\n    goal: 'maintain',\n    diseases: []\n  });\n  const [showDemo, setShowDemo] = useState(false);\n\n  // Fetch diseases\n  const {\n    data: diseasesResponse\n  } = useQuery({\n    queryKey: ['diseases'],\n    queryFn: nutritionAPI.getDiseases,\n    enabled: isAuthenticated\n  });\n\n  // Fetch nutrition plans\n  const {\n    data: nutritionPlansResponse,\n    refetch: refetchPlans\n  } = useQuery({\n    queryKey: ['nutrition-plans'],\n    queryFn: nutritionAPI.getPlans,\n    enabled: isAuthenticated\n  });\n\n  // Fetch demo data\n  const {\n    data: demoResponse\n  } = useQuery({\n    queryKey: ['nutrition-demo'],\n    queryFn: nutritionAPI.getDemo,\n    enabled: showDemo\n  });\n\n  // Fetch WhatsApp messages\n  const {\n    data: whatsappResponse\n  } = useQuery({\n    queryKey: ['whatsapp-messages'],\n    queryFn: nutritionAPI.getWhatsAppMessages,\n    enabled: isAuthenticated\n  });\n\n  // Fetch subscription status\n  const {\n    data: subscriptionResponse\n  } = useQuery({\n    queryKey: ['subscription-status'],\n    queryFn: subscriptionAPI.getStatus,\n    enabled: isAuthenticated && !isDoctor()\n  });\n  const diseases = (diseasesResponse === null || diseasesResponse === void 0 ? void 0 : (_diseasesResponse$dat = diseasesResponse.data) === null || _diseasesResponse$dat === void 0 ? void 0 : _diseasesResponse$dat.diseases) || [];\n  const nutritionPlans = (nutritionPlansResponse === null || nutritionPlansResponse === void 0 ? void 0 : (_nutritionPlansRespon = nutritionPlansResponse.data) === null || _nutritionPlansRespon === void 0 ? void 0 : _nutritionPlansRespon.nutrition_plans) || [];\n  const demoData = demoResponse === null || demoResponse === void 0 ? void 0 : demoResponse.data;\n  const whatsappMessages = (whatsappResponse === null || whatsappResponse === void 0 ? void 0 : (_whatsappResponse$dat = whatsappResponse.data) === null || _whatsappResponse$dat === void 0 ? void 0 : _whatsappResponse$dat.messages) || [];\n  const subscription = subscriptionResponse === null || subscriptionResponse === void 0 ? void 0 : (_subscriptionResponse = subscriptionResponse.data) === null || _subscriptionResponse === void 0 ? void 0 : _subscriptionResponse.subscription;\n\n  // Calculate calories mutation\n  const calculateMutation = useMutation({\n    mutationFn: nutritionAPI.calculateCalories,\n    onSuccess: response => {\n      toast({\n        title: \"Calculation complete\",\n        description: `Recommended daily calories: ${response.data.recommended_calories}`\n      });\n    },\n    onError: error => {\n      var _error$response, _error$response$data;\n      toast({\n        title: \"Calculation failed\",\n        description: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || \"Failed to calculate calories\",\n        variant: \"destructive\"\n      });\n    }\n  });\n\n  // Create plan mutation\n  const createPlanMutation = useMutation({\n    mutationFn: nutritionAPI.createPlan,\n    onSuccess: () => {\n      toast({\n        title: \"Plan created\",\n        description: \"Nutrition plan created successfully\"\n      });\n      refetchPlans();\n      setCalculatorData({\n        age: '',\n        weight: '',\n        height: '',\n        gender: 'male',\n        activity_level: 'moderate',\n        goal: 'maintain',\n        diseases: []\n      });\n    },\n    onError: error => {\n      var _error$response2, _error$response2$data;\n      toast({\n        title: \"Plan creation failed\",\n        description: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || \"Failed to create plan\",\n        variant: \"destructive\"\n      });\n    }\n  });\n  const handleCalculatorSubmit = e => {\n    e.preventDefault();\n    calculateMutation.mutate(calculatorData);\n  };\n  const handleCreatePlan = () => {\n    const planData = {\n      ...calculatorData,\n      name: `Nutrition Plan - ${new Date().toLocaleDateString()}`,\n      notes: `Generated plan for ${calculatorData.age}y old ${calculatorData.gender}`\n    };\n    createPlanMutation.mutate(planData);\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setCalculatorData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleDiseaseChange = (diseaseId, checked) => {\n    setCalculatorData(prev => ({\n      ...prev,\n      diseases: checked ? [...prev.diseases, diseaseId] : prev.diseases.filter(id => id !== diseaseId)\n    }));\n  };\n  const handleViewDetails = planId => {\n    navigate(`/nutrition/plan/${planId}`);\n  };\n  const handleSubscribe = () => {\n    navigate('/subscription');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900\",\n        children: \"Nutrition Planning\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mt-2\",\n        children: isDoctor() ? 'Create personalized nutrition plans for your patients' : 'Calculate your nutritional needs and track your progress'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid lg:grid-cols-2 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Calculator, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), \"Calorie Calculator\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n            children: \"Calculate daily caloric needs based on personal data and health conditions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleCalculatorSubmit,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  name: \"age\",\n                  type: \"number\",\n                  value: calculatorData.age,\n                  onChange: handleInputChange,\n                  placeholder: \"25\",\n                  min: \"1\",\n                  max: \"120\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Gender\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  name: \"gender\",\n                  value: calculatorData.gender,\n                  onChange: handleInputChange,\n                  className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"male\",\n                    children: \"Male\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"female\",\n                    children: \"Female\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Weight (kg)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  name: \"weight\",\n                  type: \"number\",\n                  value: calculatorData.weight,\n                  onChange: handleInputChange,\n                  placeholder: \"70\",\n                  min: \"1\",\n                  step: \"0.1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-1\",\n                  children: \"Height (cm)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  name: \"height\",\n                  type: \"number\",\n                  value: calculatorData.height,\n                  onChange: handleInputChange,\n                  placeholder: \"175\",\n                  min: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Activity Level\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"activity_level\",\n                value: calculatorData.activity_level,\n                onChange: handleInputChange,\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"sedentary\",\n                  children: \"Sedentary (little/no exercise)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"light\",\n                  children: \"Light (light exercise 1-3 days/week)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"moderate\",\n                  children: \"Moderate (moderate exercise 3-5 days/week)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"active\",\n                  children: \"Active (hard exercise 6-7 days/week)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"very_active\",\n                  children: \"Very Active (very hard exercise, physical job)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Goal\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"goal\",\n                value: calculatorData.goal,\n                onChange: handleInputChange,\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"lose\",\n                  children: \"Lose Weight\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"maintain\",\n                  children: \"Maintain Weight\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"gain\",\n                  children: \"Gain Weight\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Health Conditions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2 max-h-32 overflow-y-auto\",\n                children: diseases === null || diseases === void 0 ? void 0 : diseases.map(disease => /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: calculatorData.diseases.includes(disease.id),\n                    onChange: e => handleDiseaseChange(disease.id, e.target.checked),\n                    className: \"mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: disease.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 23\n                  }, this)]\n                }, disease.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                className: \"flex-1\",\n                disabled: calculateMutation.isPending,\n                children: calculateMutation.isPending ? 'Calculating...' : 'Calculate Calories'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this), isDoctor() && /*#__PURE__*/_jsxDEV(Button, {\n                type: \"button\",\n                variant: \"outline\",\n                onClick: handleCreatePlan,\n                disabled: createPlanMutation.isPending,\n                children: [/*#__PURE__*/_jsxDEV(Plus, {\n                  className: \"h-4 w-4 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this), \"Create Plan\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), calculateMutation.data && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 p-4 bg-blue-50 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-blue-900 mb-2\",\n              children: \"Calculation Results:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-blue-800 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"BMR: \", calculateMutation.data.bmr, \" calories\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"TDEE: \", calculateMutation.data.tdee, \" calories\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold\",\n                children: [\"Recommended: \", calculateMutation.data.recommended_calories, \" calories/day\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this), calculateMutation.data.disease_adjustments && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: \"Disease Adjustments:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 23\n                }, this), calculateMutation.data.disease_adjustments.map((adj, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-2\",\n                  children: [adj.disease, \": \", adj.adjustment > 0 ? '+' : '', adj.adjustment, \" calories\"]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Heart, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 17\n              }, this), \"Disease-Calorie Demo\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n              children: \"See how different medical conditions affect caloric requirements\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setShowDemo(!showDemo),\n              variant: \"outline\",\n              className: \"w-full mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(Eye, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 17\n              }, this), showDemo ? 'Hide Demo' : 'Show Demo']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this), showDemo && demoData && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: (_demoData$disease_exa = demoData.disease_examples) === null || _demoData$disease_exa === void 0 ? void 0 : _demoData$disease_exa.map((example, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 border rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: example.disease\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600 mb-1\",\n                  children: example.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Calorie Adjustment: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: example.adjustment > 0 ? 'text-green-600' : 'text-red-600',\n                    children: [example.adjustment > 0 ? '+' : '', example.adjustment, \" calories\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500 mt-1\",\n                  children: [\"Restrictions: \", example.dietary_restrictions]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 23\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 391,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n            children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this), \"WhatsApp Integration\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n              children: \"Recent nutrition tips and reminders sent via WhatsApp\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            children: (whatsappMessages === null || whatsappMessages === void 0 ? void 0 : whatsappMessages.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: whatsappMessages.slice(0, 3).map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 bg-green-50 rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium text-green-800\",\n                  children: message.message_type === 'tip' ? 'ðŸ’¡ Nutrition Tip' : 'â° Reminder'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-green-700 mt-1\",\n                  children: message.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-green-600 mt-2\",\n                  children: new Date(message.created_at).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 23\n                }, this)]\n              }, message.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-6 text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n                className: \"h-8 w-8 mx-auto mb-2 opacity-50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No WhatsApp messages yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: \"Messages will appear here when sent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Activity, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 13\n          }, this), isDoctor() ? 'Patient Plans' : 'My Nutrition Plans']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n          children: isDoctor() ? 'Manage nutrition plans for your patients' : 'View and track your nutrition plans'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [!isDoctor() && !(subscription !== null && subscription !== void 0 && subscription.is_active) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n              className: \"h-5 w-5 text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-blue-900\",\n                children: \"Unlock Full Nutrition Features\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-blue-700 mt-1\",\n                children: \"Subscribe to access detailed nutrition plans, personalized meal recommendations, and expert guidance.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleSubscribe,\n              size: \"sm\",\n              children: \"Subscribe Now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 13\n        }, this), (nutritionPlans === null || nutritionPlans === void 0 ? void 0 : nutritionPlans.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid md:grid-cols-2 lg:grid-cols-3 gap-4\",\n          children: nutritionPlans.map(plan => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border rounded-lg hover:shadow-md transition-shadow\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium mb-2\",\n              children: plan.name || `Plan #${plan.id}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Age: \", plan.age, \" years\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Weight: \", plan.weight, \" kg\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Goal: \", plan.goal]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Created: \", new Date(plan.created_at).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 21\n              }, this), plan.diseases && plan.diseases.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-blue-600\",\n                children: [plan.diseases.length, \" health condition\", plan.diseases.length > 1 ? 's' : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                variant: \"outline\",\n                className: \"flex-1\",\n                onClick: () => handleViewDetails(plan.id),\n                children: [/*#__PURE__*/_jsxDEV(Eye, {\n                  className: \"h-3 w-3 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 23\n                }, this), \"View Details\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 21\n              }, this), !isDoctor() && !(subscription !== null && subscription !== void 0 && subscription.is_active) && /*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                onClick: handleSubscribe,\n                className: \"px-3\",\n                children: /*#__PURE__*/_jsxDEV(CreditCard, {\n                  className: \"h-3 w-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 19\n            }, this)]\n          }, plan.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8 text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(Activity, {\n            className: \"h-12 w-12 mx-auto mb-4 opacity-50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-2\",\n            children: \"No nutrition plans yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm mb-4\",\n            children: isDoctor() ? 'Create plans for your patients using the calculator above' : 'Use the calculator to create your first nutrition plan'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 15\n          }, this), !isDoctor() && !(subscription !== null && subscription !== void 0 && subscription.is_active) && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleSubscribe,\n            variant: \"outline\",\n            children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n              className: \"h-4 w-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 19\n            }, this), \"Subscribe to Get Started\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n};\n_s(NutritionPlan, \"0Nm8WO3dgokKRwzG0yY1W9Ed240=\", true, function () {\n  return [useAuthStore];\n});\n_c = NutritionPlan;\nexport default NutritionPlan;\nvar _c;\n$RefreshReg$(_c, \"NutritionPlan\");","map":{"version":3,"names":["React","useAuthStore","AdminNutritionView","DoctorNutritionView","PatientNutritionView","jsxDEV","_jsxDEV","NutritionPlan","_s","_diseasesResponse$dat","_nutritionPlansRespon","_whatsappResponse$dat","_subscriptionResponse","_demoData$disease_exa","isDoctor","isAdmin","user","isAuthenticated","className","children","fileName","_jsxFileName","lineNumber","columnNumber","calculatorData","setCalculatorData","useState","age","weight","height","gender","activity_level","goal","diseases","showDemo","setShowDemo","data","diseasesResponse","useQuery","queryKey","queryFn","nutritionAPI","getDiseases","enabled","nutritionPlansResponse","refetch","refetchPlans","getPlans","demoResponse","getDemo","whatsappResponse","getWhatsAppMessages","subscriptionResponse","subscriptionAPI","getStatus","nutritionPlans","nutrition_plans","demoData","whatsappMessages","messages","subscription","calculateMutation","useMutation","mutationFn","calculateCalories","onSuccess","response","toast","title","description","recommended_calories","onError","error","_error$response","_error$response$data","detail","variant","createPlanMutation","createPlan","_error$response2","_error$response2$data","handleCalculatorSubmit","e","preventDefault","mutate","handleCreatePlan","planData","name","Date","toLocaleDateString","notes","handleInputChange","value","target","prev","handleDiseaseChange","diseaseId","checked","filter","id","handleViewDetails","planId","navigate","handleSubscribe","Card","CardHeader","CardTitle","Calculator","CardDescription","CardContent","onSubmit","Input","type","onChange","placeholder","min","max","step","map","disease","includes","Button","disabled","isPending","onClick","Plus","bmr","tdee","disease_adjustments","adj","idx","adjustment","Heart","Eye","disease_examples","example","dietary_restrictions","MessageCircle","length","slice","message","message_type","content","created_at","toLocaleString","Activity","is_active","CreditCard","size","plan","_c","$RefreshReg$"],"sources":["/Users/mohsen/Desktop/Clinical_Nutrition_Platform/frontend/src/pages/NutritionPlan.jsx"],"sourcesContent":["import React from 'react';\nimport useAuthStore from '../store/authStore';\nimport AdminNutritionView from '../components/nutrition/AdminNutritionView';\nimport DoctorNutritionView from '../components/nutrition/DoctorNutritionView';\nimport PatientNutritionView from '../components/nutrition/PatientNutritionView';\n\nconst NutritionPlan = () => {\n  const { isDoctor, isAdmin, user, isAuthenticated } = useAuthStore();\n\n  // Return appropriate view based on user role\n  if (!isAuthenticated) {\n    return (\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">\n            Please log in to access nutrition planning\n          </h1>\n          <p className=\"text-gray-600\">\n            You need to be logged in to view your nutrition plans and use our tools.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  // Admin gets full system access\n  if (isAdmin()) {\n    return <AdminNutritionView />;\n  }\n\n  // Doctor gets professional tools\n  if (isDoctor()) {\n    return <DoctorNutritionView />;\n  }\n\n  // Patient gets simplified view\n  return <PatientNutritionView />;\n\n  \n  const [calculatorData, setCalculatorData] = useState({\n    age: '',\n    weight: '',\n    height: '',\n    gender: 'male',\n    activity_level: 'moderate',\n    goal: 'maintain',\n    diseases: [],\n  });\n\n  const [showDemo, setShowDemo] = useState(false);\n\n  // Fetch diseases\n  const { data: diseasesResponse } = useQuery({\n    queryKey: ['diseases'],\n    queryFn: nutritionAPI.getDiseases,\n    enabled: isAuthenticated,\n  });\n\n  // Fetch nutrition plans\n  const { data: nutritionPlansResponse, refetch: refetchPlans } = useQuery({\n    queryKey: ['nutrition-plans'],\n    queryFn: nutritionAPI.getPlans,\n    enabled: isAuthenticated,\n  });\n\n  // Fetch demo data\n  const { data: demoResponse } = useQuery({\n    queryKey: ['nutrition-demo'],\n    queryFn: nutritionAPI.getDemo,\n    enabled: showDemo,\n  });\n\n  // Fetch WhatsApp messages\n  const { data: whatsappResponse } = useQuery({\n    queryKey: ['whatsapp-messages'],\n    queryFn: nutritionAPI.getWhatsAppMessages,\n    enabled: isAuthenticated,\n  });\n\n  // Fetch subscription status\n  const { data: subscriptionResponse } = useQuery({\n    queryKey: ['subscription-status'],\n    queryFn: subscriptionAPI.getStatus,\n    enabled: isAuthenticated && !isDoctor(),\n  });\n\n  const diseases = diseasesResponse?.data?.diseases || [];\n  const nutritionPlans = nutritionPlansResponse?.data?.nutrition_plans || [];\n  const demoData = demoResponse?.data;\n  const whatsappMessages = whatsappResponse?.data?.messages || [];\n  const subscription = subscriptionResponse?.data?.subscription;\n\n  // Calculate calories mutation\n  const calculateMutation = useMutation({\n    mutationFn: nutritionAPI.calculateCalories,\n    onSuccess: (response) => {\n      toast({\n        title: \"Calculation complete\",\n        description: `Recommended daily calories: ${response.data.recommended_calories}`,\n      });\n    },\n    onError: (error) => {\n      toast({\n        title: \"Calculation failed\",\n        description: error.response?.data?.detail || \"Failed to calculate calories\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Create plan mutation\n  const createPlanMutation = useMutation({\n    mutationFn: nutritionAPI.createPlan,\n    onSuccess: () => {\n      toast({\n        title: \"Plan created\",\n        description: \"Nutrition plan created successfully\",\n      });\n      refetchPlans();\n      setCalculatorData({\n        age: '',\n        weight: '',\n        height: '',\n        gender: 'male',\n        activity_level: 'moderate',\n        goal: 'maintain',\n        diseases: [],\n      });\n    },\n    onError: (error) => {\n      toast({\n        title: \"Plan creation failed\",\n        description: error.response?.data?.detail || \"Failed to create plan\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleCalculatorSubmit = (e) => {\n    e.preventDefault();\n    calculateMutation.mutate(calculatorData);\n  };\n\n  const handleCreatePlan = () => {\n    const planData = {\n      ...calculatorData,\n      name: `Nutrition Plan - ${new Date().toLocaleDateString()}`,\n      notes: `Generated plan for ${calculatorData.age}y old ${calculatorData.gender}`,\n    };\n    createPlanMutation.mutate(planData);\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setCalculatorData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleDiseaseChange = (diseaseId, checked) => {\n    setCalculatorData(prev => ({\n      ...prev,\n      diseases: checked \n        ? [...prev.diseases, diseaseId]\n        : prev.diseases.filter(id => id !== diseaseId)\n    }));\n  };\n\n  const handleViewDetails = (planId) => {\n    navigate(`/nutrition/plan/${planId}`);\n  };\n\n  const handleSubscribe = () => {\n    navigate('/subscription');\n  };\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">\n          Nutrition Planning\n        </h1>\n        <p className=\"text-gray-600 mt-2\">\n          {isDoctor() ? 'Create personalized nutrition plans for your patients' : 'Calculate your nutritional needs and track your progress'}\n        </p>\n      </div>\n\n      <div className=\"grid lg:grid-cols-2 gap-8\">\n        {/* Calorie Calculator */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Calculator className=\"h-5 w-5\" />\n              Calorie Calculator\n            </CardTitle>\n            <CardDescription>\n              Calculate daily caloric needs based on personal data and health conditions\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleCalculatorSubmit} className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Age\n                  </label>\n                  <Input\n                    name=\"age\"\n                    type=\"number\"\n                    value={calculatorData.age}\n                    onChange={handleInputChange}\n                    placeholder=\"25\"\n                    min=\"1\"\n                    max=\"120\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Gender\n                  </label>\n                  <select\n                    name=\"gender\"\n                    value={calculatorData.gender}\n                    onChange={handleInputChange}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\n                  >\n                    <option value=\"male\">Male</option>\n                    <option value=\"female\">Female</option>\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Weight (kg)\n                  </label>\n                  <Input\n                    name=\"weight\"\n                    type=\"number\"\n                    value={calculatorData.weight}\n                    onChange={handleInputChange}\n                    placeholder=\"70\"\n                    min=\"1\"\n                    step=\"0.1\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Height (cm)\n                  </label>\n                  <Input\n                    name=\"height\"\n                    type=\"number\"\n                    value={calculatorData.height}\n                    onChange={handleInputChange}\n                    placeholder=\"175\"\n                    min=\"1\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Activity Level\n                </label>\n                <select\n                  name=\"activity_level\"\n                  value={calculatorData.activity_level}\n                  onChange={handleInputChange}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\n                >\n                  <option value=\"sedentary\">Sedentary (little/no exercise)</option>\n                  <option value=\"light\">Light (light exercise 1-3 days/week)</option>\n                  <option value=\"moderate\">Moderate (moderate exercise 3-5 days/week)</option>\n                  <option value=\"active\">Active (hard exercise 6-7 days/week)</option>\n                  <option value=\"very_active\">Very Active (very hard exercise, physical job)</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Goal\n                </label>\n                <select\n                  name=\"goal\"\n                  value={calculatorData.goal}\n                  onChange={handleInputChange}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary\"\n                >\n                  <option value=\"lose\">Lose Weight</option>\n                  <option value=\"maintain\">Maintain Weight</option>\n                  <option value=\"gain\">Gain Weight</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Health Conditions\n                </label>\n                <div className=\"space-y-2 max-h-32 overflow-y-auto\">\n                  {diseases?.map((disease) => (\n                    <label key={disease.id} className=\"flex items-center\">\n                      <input\n                        type=\"checkbox\"\n                        checked={calculatorData.diseases.includes(disease.id)}\n                        onChange={(e) => handleDiseaseChange(disease.id, e.target.checked)}\n                        className=\"mr-2\"\n                      />\n                      <span className=\"text-sm\">{disease.name}</span>\n                    </label>\n                  ))}\n                </div>\n              </div>\n\n              <div className=\"flex gap-2\">\n                <Button\n                  type=\"submit\"\n                  className=\"flex-1\"\n                  disabled={calculateMutation.isPending}\n                >\n                  {calculateMutation.isPending ? 'Calculating...' : 'Calculate Calories'}\n                </Button>\n                \n                {isDoctor() && (\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    onClick={handleCreatePlan}\n                    disabled={createPlanMutation.isPending}\n                  >\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Create Plan\n                  </Button>\n                )}\n              </div>\n            </form>\n\n            {calculateMutation.data && (\n              <div className=\"mt-4 p-4 bg-blue-50 rounded-lg\">\n                <h4 className=\"font-medium text-blue-900 mb-2\">Calculation Results:</h4>\n                <div className=\"text-sm text-blue-800 space-y-1\">\n                  <div>BMR: {calculateMutation.data.bmr} calories</div>\n                  <div>TDEE: {calculateMutation.data.tdee} calories</div>\n                  <div className=\"font-semibold\">\n                    Recommended: {calculateMutation.data.recommended_calories} calories/day\n                  </div>\n                  {calculateMutation.data.disease_adjustments && (\n                    <div className=\"mt-2\">\n                      <div className=\"font-medium\">Disease Adjustments:</div>\n                      {calculateMutation.data.disease_adjustments.map((adj, idx) => (\n                        <div key={idx} className=\"ml-2\">\n                          {adj.disease}: {adj.adjustment > 0 ? '+' : ''}{adj.adjustment} calories\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Disease Demo & WhatsApp Integration */}\n        <div className=\"space-y-6\">\n          {/* Disease Demo */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Heart className=\"h-5 w-5\" />\n                Disease-Calorie Demo\n              </CardTitle>\n              <CardDescription>\n                See how different medical conditions affect caloric requirements\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <Button\n                onClick={() => setShowDemo(!showDemo)}\n                variant=\"outline\"\n                className=\"w-full mb-4\"\n              >\n                <Eye className=\"h-4 w-4 mr-2\" />\n                {showDemo ? 'Hide Demo' : 'Show Demo'}\n              </Button>\n\n              {showDemo && demoData && (\n                <div className=\"space-y-3\">\n                  {demoData.disease_examples?.map((example, idx) => (\n                    <div key={idx} className=\"p-3 border rounded-lg\">\n                      <div className=\"font-medium\">{example.disease}</div>\n                      <div className=\"text-sm text-gray-600 mb-1\">\n                        {example.description}\n                      </div>\n                      <div className=\"text-sm\">\n                        <span className=\"font-medium\">Calorie Adjustment: </span>\n                        <span className={example.adjustment > 0 ? 'text-green-600' : 'text-red-600'}>\n                          {example.adjustment > 0 ? '+' : ''}{example.adjustment} calories\n                        </span>\n                      </div>\n                      <div className=\"text-xs text-gray-500 mt-1\">\n                        Restrictions: {example.dietary_restrictions}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* WhatsApp Integration */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <MessageCircle className=\"h-5 w-5\" />\n                WhatsApp Integration\n              </CardTitle>\n              <CardDescription>\n                Recent nutrition tips and reminders sent via WhatsApp\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              {whatsappMessages?.length > 0 ? (\n                <div className=\"space-y-3\">\n                  {whatsappMessages.slice(0, 3).map((message) => (\n                    <div key={message.id} className=\"p-3 bg-green-50 rounded-lg\">\n                      <div className=\"text-sm font-medium text-green-800\">\n                        {message.message_type === 'tip' ? 'ðŸ’¡ Nutrition Tip' : 'â° Reminder'}\n                      </div>\n                      <div className=\"text-sm text-green-700 mt-1\">\n                        {message.content}\n                      </div>\n                      <div className=\"text-xs text-green-600 mt-2\">\n                        {new Date(message.created_at).toLocaleString()}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"text-center py-6 text-gray-500\">\n                  <MessageCircle className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\n                  <p>No WhatsApp messages yet</p>\n                  <p className=\"text-sm\">Messages will appear here when sent</p>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n\n      {/* Nutrition Plans */}\n      <Card className=\"mt-8\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Activity className=\"h-5 w-5\" />\n            {isDoctor() ? 'Patient Plans' : 'My Nutrition Plans'}\n          </CardTitle>\n          <CardDescription>\n            {isDoctor() ? 'Manage nutrition plans for your patients' : 'View and track your nutrition plans'}\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {/* Subscription Notice for Patients */}\n          {!isDoctor() && !subscription?.is_active && (\n            <div className=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n              <div className=\"flex items-center gap-3\">\n                <CreditCard className=\"h-5 w-5 text-blue-600\" />\n                <div className=\"flex-1\">\n                  <h4 className=\"font-medium text-blue-900\">Unlock Full Nutrition Features</h4>\n                  <p className=\"text-sm text-blue-700 mt-1\">\n                    Subscribe to access detailed nutrition plans, personalized meal recommendations, and expert guidance.\n                  </p>\n                </div>\n                <Button onClick={handleSubscribe} size=\"sm\">\n                  Subscribe Now\n                </Button>\n              </div>\n            </div>\n          )}\n\n          {nutritionPlans?.length > 0 ? (\n            <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n              {nutritionPlans.map((plan) => (\n                <div key={plan.id} className=\"p-4 border rounded-lg hover:shadow-md transition-shadow\">\n                  <h4 className=\"font-medium mb-2\">\n                    {plan.name || `Plan #${plan.id}`}\n                  </h4>\n                  <div className=\"text-sm text-gray-600 space-y-1\">\n                    <div>Age: {plan.age} years</div>\n                    <div>Weight: {plan.weight} kg</div>\n                    <div>Goal: {plan.goal}</div>\n                    <div>Created: {new Date(plan.created_at).toLocaleDateString()}</div>\n                    {plan.diseases && plan.diseases.length > 0 && (\n                      <div className=\"text-xs text-blue-600\">\n                        {plan.diseases.length} health condition{plan.diseases.length > 1 ? 's' : ''}\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"flex gap-2 mt-3\">\n                    <Button \n                      size=\"sm\" \n                      variant=\"outline\" \n                      className=\"flex-1\"\n                      onClick={() => handleViewDetails(plan.id)}\n                    >\n                      <Eye className=\"h-3 w-3 mr-1\" />\n                      View Details\n                    </Button>\n                    {!isDoctor() && !subscription?.is_active && (\n                      <Button \n                        size=\"sm\" \n                        onClick={handleSubscribe}\n                        className=\"px-3\"\n                      >\n                        <CreditCard className=\"h-3 w-3\" />\n                      </Button>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8 text-gray-500\">\n              <Activity className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\n              <p className=\"mb-2\">No nutrition plans yet</p>\n              <p className=\"text-sm mb-4\">\n                {isDoctor() ? 'Create plans for your patients using the calculator above' : 'Use the calculator to create your first nutrition plan'}\n              </p>\n              {!isDoctor() && !subscription?.is_active && (\n                <Button onClick={handleSubscribe} variant=\"outline\">\n                  <CreditCard className=\"h-4 w-4 mr-2\" />\n                  Subscribe to Get Started\n                </Button>\n              )}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default NutritionPlan;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}