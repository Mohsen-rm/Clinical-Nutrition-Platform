{"ast":null,"code":"var _jsxFileName = \"/Users/mohsen/Desktop/Clinical_Nutrition_Platform/frontend/src/pages/Affiliate.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useQuery, useMutation } from '@tanstack/react-query';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../components/ui/card';\nimport { Button } from '../components/ui/button';\nimport { Input } from '../components/ui/input';\nimport { Copy, DollarSign, Users, TrendingUp, ExternalLink, RefreshCw } from 'lucide-react';\nimport { affiliateAPI } from '../lib/api';\nimport { useToast } from '../components/ui/use-toast';\nimport { formatCurrency, formatDate } from '../lib/utils';\nimport useAuthStore from '../store/authStore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Affiliate = () => {\n  _s();\n  var _referralsResponse$da, _dashboardData$recent, _commissions$commissi;\n  const {\n    toast\n  } = useToast();\n  const [payoutAmount, setPayoutAmount] = useState('');\n  const {\n    isAuthenticated\n  } = useAuthStore();\n\n  // Fetch affiliate dashboard data\n  const {\n    data: dashboardResponse,\n    isLoading,\n    refetch\n  } = useQuery({\n    queryKey: ['affiliate-dashboard'],\n    queryFn: affiliateAPI.getDashboard,\n    enabled: isAuthenticated\n  });\n\n  // Fetch commissions\n  const {\n    data: commissionsResponse\n  } = useQuery({\n    queryKey: ['affiliate-commissions'],\n    queryFn: () => affiliateAPI.getCommissions({\n      limit: 10\n    }),\n    enabled: isAuthenticated\n  });\n\n  // Fetch referrals\n  const {\n    data: referralsResponse\n  } = useQuery({\n    queryKey: ['affiliate-referrals'],\n    queryFn: affiliateAPI.getReferrals,\n    enabled: isAuthenticated\n  });\n  const dashboardData = dashboardResponse === null || dashboardResponse === void 0 ? void 0 : dashboardResponse.data;\n  const commissions = commissionsResponse === null || commissionsResponse === void 0 ? void 0 : commissionsResponse.data;\n  const referrals = (referralsResponse === null || referralsResponse === void 0 ? void 0 : (_referralsResponse$da = referralsResponse.data) === null || _referralsResponse$da === void 0 ? void 0 : _referralsResponse$da.referrals) || [];\n\n  // Generate new affiliate link\n  const generateLinkMutation = useMutation({\n    mutationFn: affiliateAPI.generateLink,\n    onSuccess: () => {\n      toast({\n        title: \"New link generated\",\n        description: \"Your affiliate link has been refreshed successfully.\"\n      });\n      refetch();\n    },\n    onError: () => {\n      toast({\n        title: \"Failed to generate link\",\n        description: \"Please try again later.\",\n        variant: \"destructive\"\n      });\n    }\n  });\n\n  // Request payout\n  const payoutMutation = useMutation({\n    mutationFn: affiliateAPI.createPayoutRequest,\n    onSuccess: () => {\n      toast({\n        title: \"Payout requested\",\n        description: \"Your payout request has been submitted successfully.\"\n      });\n      setPayoutAmount('');\n      refetch();\n    },\n    onError: error => {\n      var _error$response, _error$response$data;\n      toast({\n        title: \"Payout request failed\",\n        description: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || \"Please try again later.\",\n        variant: \"destructive\"\n      });\n    }\n  });\n  const copyToClipboard = text => {\n    navigator.clipboard.writeText(text);\n    toast({\n      title: \"Copied to clipboard\",\n      description: \"Affiliate link copied successfully!\"\n    });\n  };\n  const handlePayoutRequest = e => {\n    e.preventDefault();\n    const amount = parseFloat(payoutAmount);\n    if (amount < 50) {\n      toast({\n        title: \"Minimum payout amount\",\n        description: \"Minimum payout amount is $50.00\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n    if (amount > ((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.available_balance) || 0)) {\n      toast({\n        title: \"Insufficient balance\",\n        description: \"Payout amount exceeds available balance.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n    payoutMutation.mutate({\n      amount\n    });\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-pulse space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-8 bg-gray-200 rounded w-1/4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid md:grid-cols-3 gap-6\",\n          children: [1, 2, 3].map(i => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-32 bg-gray-200 rounded\"\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-900\",\n        children: \"Affiliate Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mt-2\",\n        children: \"Earn 30% recurring commission on every referral\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid md:grid-cols-4 gap-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-sm font-medium\",\n            children: \"Total Earnings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DollarSign, {\n            className: \"h-4 w-4 text-muted-foreground\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold\",\n            children: formatCurrency((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.total_earnings) || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-muted-foreground\",\n            children: \"All-time commission earned\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-sm font-medium\",\n            children: \"Available Balance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DollarSign, {\n            className: \"h-4 w-4 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-green-600\",\n            children: formatCurrency((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.available_balance) || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-muted-foreground\",\n            children: \"Ready for payout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-sm font-medium\",\n            children: \"Total Referrals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Users, {\n            className: \"h-4 w-4 text-muted-foreground\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold\",\n            children: (dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.total_referrals) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-muted-foreground\",\n            children: \"People referred\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"flex flex-row items-center justify-between space-y-0 pb-2\",\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            className: \"text-sm font-medium\",\n            children: \"This Month\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TrendingUp, {\n            className: \"h-4 w-4 text-muted-foreground\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold\",\n            children: formatCurrency((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.monthly_earnings) || 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-muted-foreground\",\n            children: \"Commission this month\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid lg:grid-cols-2 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            children: \"Your Affiliate Link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n            children: \"Share this link to earn 30% commission on every subscription\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700\",\n              children: \"Your Affiliate Link:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Input, {\n                value: (dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.affiliate_link) || 'Loading...',\n                readOnly: true,\n                className: \"font-mono text-sm bg-gray-50\",\n                placeholder: \"Your affiliate link will appear here\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => copyToClipboard((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.affiliate_link) || ''),\n                variant: \"outline\",\n                size: \"icon\",\n                disabled: !(dashboardData !== null && dashboardData !== void 0 && dashboardData.affiliate_link),\n                children: /*#__PURE__*/_jsxDEV(Copy, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), (dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.referral_code) && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: [\"Referral Code: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-mono font-semibold\",\n                children: dashboardData.referral_code\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => generateLinkMutation.mutate(),\n              disabled: generateLinkMutation.isPending,\n              variant: \"outline\",\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: `h-4 w-4 mr-2 ${generateLinkMutation.isPending ? 'animate-spin' : ''}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), \"Generate New Link\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => window.open(dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.affiliate_link, '_blank'),\n              variant: \"outline\",\n              children: [/*#__PURE__*/_jsxDEV(ExternalLink, {\n                className: \"h-4 w-4 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this), \"Test Link\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-blue-900 mb-2\",\n              children: \"How it works:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"text-sm text-blue-800 space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Share your unique affiliate link\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 When someone signs up and subscribes, you earn 30%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Commissions are recurring for the lifetime of the subscription\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"\\u2022 Minimum payout is $50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            children: \"Request Payout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n            children: \"Minimum payout amount is $50.00\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handlePayoutRequest,\n            className: \"space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Payout Amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"number\",\n                step: \"0.01\",\n                min: \"50\",\n                max: (dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.available_balance) || 0,\n                value: payoutAmount,\n                onChange: e => setPayoutAmount(e.target.value),\n                placeholder: \"Enter amount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 mt-1\",\n                children: [\"Available: \", formatCurrency((dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.available_balance) || 0)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              className: \"w-full\",\n              disabled: !payoutAmount || payoutMutation.isPending,\n              children: payoutMutation.isPending ? 'Processing...' : 'Request Payout'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium mb-2\",\n              children: \"Recent Payout Requests\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this), (dashboardData === null || dashboardData === void 0 ? void 0 : (_dashboardData$recent = dashboardData.recent_payouts) === null || _dashboardData$recent === void 0 ? void 0 : _dashboardData$recent.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: dashboardData.recent_payouts.slice(0, 3).map(payout => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: formatDate(payout.created_at)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium\",\n                    children: formatCurrency(payout.amount)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `text-xs ${payout.status === 'completed' ? 'text-green-600' : payout.status === 'pending' ? 'text-yellow-600' : 'text-red-600'}`,\n                    children: payout.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 23\n                }, this)]\n              }, payout.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: \"No payout requests yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid lg:grid-cols-2 gap-8 mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            children: \"Recent Commissions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n            children: \"Your latest commission earnings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: (commissions === null || commissions === void 0 ? void 0 : (_commissions$commissi = commissions.commissions) === null || _commissions$commissi === void 0 ? void 0 : _commissions$commissi.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: commissions.commissions.map(commission => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium\",\n                  children: formatCurrency(commission.amount)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: formatDate(commission.created_at)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `text-xs px-2 py-1 rounded ${commission.status === 'paid' ? 'bg-green-100 text-green-800' : commission.status === 'pending' ? 'bg-yellow-100 text-yellow-800' : 'bg-gray-100 text-gray-800'}`,\n                  children: commission.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 21\n              }, this)]\n            }, commission.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 text-center py-8\",\n            children: \"No commissions yet. Start referring to earn!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            children: \"Recent Referrals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CardDescription, {\n            children: \"People who signed up through your link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n          children: (referrals === null || referrals === void 0 ? void 0 : referrals.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: referrals.slice(0, 5).map(referral => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-medium\",\n                  children: referral.referred_user_name || 'Anonymous User'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: formatDate(referral.created_at)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `text-xs px-2 py-1 rounded ${referral.has_subscribed ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`,\n                children: referral.has_subscribed ? 'Subscribed' : 'Signed up'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 21\n              }, this)]\n            }, referral.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500 text-center py-8\",\n            children: \"No referrals yet. Share your link to get started!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n_s(Affiliate, \"vE9KHhNLXZEQvrq0iqRxVcuibYA=\", false, function () {\n  return [useToast, useAuthStore, useQuery, useQuery, useQuery, useMutation, useMutation];\n});\n_c = Affiliate;\nexport default Affiliate;\nvar _c;\n$RefreshReg$(_c, \"Affiliate\");","map":{"version":3,"names":["React","useState","useQuery","useMutation","Card","CardContent","CardDescription","CardHeader","CardTitle","Button","Input","Copy","DollarSign","Users","TrendingUp","ExternalLink","RefreshCw","affiliateAPI","useToast","formatCurrency","formatDate","useAuthStore","jsxDEV","_jsxDEV","Affiliate","_s","_referralsResponse$da","_dashboardData$recent","_commissions$commissi","toast","payoutAmount","setPayoutAmount","isAuthenticated","data","dashboardResponse","isLoading","refetch","queryKey","queryFn","getDashboard","enabled","commissionsResponse","getCommissions","limit","referralsResponse","getReferrals","dashboardData","commissions","referrals","generateLinkMutation","mutationFn","generateLink","onSuccess","title","description","onError","variant","payoutMutation","createPayoutRequest","error","_error$response","_error$response$data","response","detail","copyToClipboard","text","navigator","clipboard","writeText","handlePayoutRequest","e","preventDefault","amount","parseFloat","available_balance","mutate","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","i","total_earnings","total_referrals","monthly_earnings","value","affiliate_link","readOnly","placeholder","onClick","size","disabled","referral_code","isPending","window","open","onSubmit","type","step","min","max","onChange","target","recent_payouts","length","slice","payout","created_at","status","id","commission","referral","referred_user_name","has_subscribed","_c","$RefreshReg$"],"sources":["/Users/mohsen/Desktop/Clinical_Nutrition_Platform/frontend/src/pages/Affiliate.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery, useMutation } from '@tanstack/react-query';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../components/ui/card';\nimport { Button } from '../components/ui/button';\nimport { Input } from '../components/ui/input';\nimport { Copy, DollarSign, Users, TrendingUp, ExternalLink, RefreshCw } from 'lucide-react';\nimport { affiliateAPI } from '../lib/api';\nimport { useToast } from '../components/ui/use-toast';\nimport { formatCurrency, formatDate } from '../lib/utils';\nimport useAuthStore from '../store/authStore';\n\nconst Affiliate = () => {\n  const { toast } = useToast();\n  const [payoutAmount, setPayoutAmount] = useState('');\n  const { isAuthenticated } = useAuthStore();\n\n  // Fetch affiliate dashboard data\n  const { data: dashboardResponse, isLoading, refetch } = useQuery({\n    queryKey: ['affiliate-dashboard'],\n    queryFn: affiliateAPI.getDashboard,\n    enabled: isAuthenticated,\n  });\n\n  // Fetch commissions\n  const { data: commissionsResponse } = useQuery({\n    queryKey: ['affiliate-commissions'],\n    queryFn: () => affiliateAPI.getCommissions({ limit: 10 }),\n    enabled: isAuthenticated,\n  });\n\n  // Fetch referrals\n  const { data: referralsResponse } = useQuery({\n    queryKey: ['affiliate-referrals'],\n    queryFn: affiliateAPI.getReferrals,\n    enabled: isAuthenticated,\n  });\n\n  const dashboardData = dashboardResponse?.data;\n  const commissions = commissionsResponse?.data;\n  const referrals = referralsResponse?.data?.referrals || [];\n\n  // Generate new affiliate link\n  const generateLinkMutation = useMutation({\n    mutationFn: affiliateAPI.generateLink,\n    onSuccess: () => {\n      toast({\n        title: \"New link generated\",\n        description: \"Your affiliate link has been refreshed successfully.\",\n      });\n      refetch();\n    },\n    onError: () => {\n      toast({\n        title: \"Failed to generate link\",\n        description: \"Please try again later.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Request payout\n  const payoutMutation = useMutation({\n    mutationFn: affiliateAPI.createPayoutRequest,\n    onSuccess: () => {\n      toast({\n        title: \"Payout requested\",\n        description: \"Your payout request has been submitted successfully.\",\n      });\n      setPayoutAmount('');\n      refetch();\n    },\n    onError: (error) => {\n      toast({\n        title: \"Payout request failed\",\n        description: error.response?.data?.detail || \"Please try again later.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const copyToClipboard = (text) => {\n    navigator.clipboard.writeText(text);\n    toast({\n      title: \"Copied to clipboard\",\n      description: \"Affiliate link copied successfully!\",\n    });\n  };\n\n  const handlePayoutRequest = (e) => {\n    e.preventDefault();\n    const amount = parseFloat(payoutAmount);\n    \n    if (amount < 50) {\n      toast({\n        title: \"Minimum payout amount\",\n        description: \"Minimum payout amount is $50.00\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (amount > (dashboardData?.available_balance || 0)) {\n      toast({\n        title: \"Insufficient balance\",\n        description: \"Payout amount exceeds available balance.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    payoutMutation.mutate({ amount });\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"animate-pulse space-y-4\">\n          <div className=\"h-8 bg-gray-200 rounded w-1/4\"></div>\n          <div className=\"grid md:grid-cols-3 gap-6\">\n            {[1, 2, 3].map((i) => (\n              <div key={i} className=\"h-32 bg-gray-200 rounded\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">\n          Affiliate Dashboard\n        </h1>\n        <p className=\"text-gray-600 mt-2\">\n          Earn 30% recurring commission on every referral\n        </p>\n      </div>\n\n      {/* Stats Overview */}\n      <div className=\"grid md:grid-cols-4 gap-6 mb-8\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Earnings</CardTitle>\n            <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              {formatCurrency(dashboardData?.total_earnings || 0)}\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              All-time commission earned\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Available Balance</CardTitle>\n            <DollarSign className=\"h-4 w-4 text-green-600\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-green-600\">\n              {formatCurrency(dashboardData?.available_balance || 0)}\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              Ready for payout\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Referrals</CardTitle>\n            <Users className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              {dashboardData?.total_referrals || 0}\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              People referred\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">This Month</CardTitle>\n            <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              {formatCurrency(dashboardData?.monthly_earnings || 0)}\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              Commission this month\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      <div className=\"grid lg:grid-cols-2 gap-8\">\n        {/* Affiliate Link */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Your Affiliate Link</CardTitle>\n            <CardDescription>\n              Share this link to earn 30% commission on every subscription\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <label className=\"text-sm font-medium text-gray-700\">\n                Your Affiliate Link:\n              </label>\n              <div className=\"flex gap-2\">\n                <Input\n                  value={dashboardData?.affiliate_link || 'Loading...'}\n                  readOnly\n                  className=\"font-mono text-sm bg-gray-50\"\n                  placeholder=\"Your affiliate link will appear here\"\n                />\n                <Button\n                  onClick={() => copyToClipboard(dashboardData?.affiliate_link || '')}\n                  variant=\"outline\"\n                  size=\"icon\"\n                  disabled={!dashboardData?.affiliate_link}\n                >\n                  <Copy className=\"h-4 w-4\" />\n                </Button>\n              </div>\n              {dashboardData?.referral_code && (\n                <p className=\"text-xs text-gray-600\">\n                  Referral Code: <span className=\"font-mono font-semibold\">{dashboardData.referral_code}</span>\n                </p>\n              )}\n            </div>\n            \n            <div className=\"flex gap-2\">\n              <Button\n                onClick={() => generateLinkMutation.mutate()}\n                disabled={generateLinkMutation.isPending}\n                variant=\"outline\"\n                className=\"flex-1\"\n              >\n                <RefreshCw className={`h-4 w-4 mr-2 ${generateLinkMutation.isPending ? 'animate-spin' : ''}`} />\n                Generate New Link\n              </Button>\n              \n              <Button\n                onClick={() => window.open(dashboardData?.affiliate_link, '_blank')}\n                variant=\"outline\"\n              >\n                <ExternalLink className=\"h-4 w-4 mr-2\" />\n                Test Link\n              </Button>\n            </div>\n\n            <div className=\"bg-blue-50 p-4 rounded-lg\">\n              <h4 className=\"font-medium text-blue-900 mb-2\">How it works:</h4>\n              <ul className=\"text-sm text-blue-800 space-y-1\">\n                <li>• Share your unique affiliate link</li>\n                <li>• When someone signs up and subscribes, you earn 30%</li>\n                <li>• Commissions are recurring for the lifetime of the subscription</li>\n                <li>• Minimum payout is $50</li>\n              </ul>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Payout Request */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Request Payout</CardTitle>\n            <CardDescription>\n              Minimum payout amount is $50.00\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handlePayoutRequest} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Payout Amount\n                </label>\n                <Input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"50\"\n                  max={dashboardData?.available_balance || 0}\n                  value={payoutAmount}\n                  onChange={(e) => setPayoutAmount(e.target.value)}\n                  placeholder=\"Enter amount\"\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  Available: {formatCurrency(dashboardData?.available_balance || 0)}\n                </p>\n              </div>\n\n              <Button\n                type=\"submit\"\n                className=\"w-full\"\n                disabled={!payoutAmount || payoutMutation.isPending}\n              >\n                {payoutMutation.isPending ? 'Processing...' : 'Request Payout'}\n              </Button>\n            </form>\n\n            <div className=\"mt-6\">\n              <h4 className=\"font-medium mb-2\">Recent Payout Requests</h4>\n              {dashboardData?.recent_payouts?.length > 0 ? (\n                <div className=\"space-y-2\">\n                  {dashboardData.recent_payouts.slice(0, 3).map((payout) => (\n                    <div key={payout.id} className=\"flex justify-between items-center text-sm\">\n                      <span>{formatDate(payout.created_at)}</span>\n                      <div className=\"text-right\">\n                        <div className=\"font-medium\">{formatCurrency(payout.amount)}</div>\n                        <div className={`text-xs ${\n                          payout.status === 'completed' ? 'text-green-600' :\n                          payout.status === 'pending' ? 'text-yellow-600' :\n                          'text-red-600'\n                        }`}>\n                          {payout.status}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <p className=\"text-sm text-gray-500\">No payout requests yet</p>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Recent Activity */}\n      <div className=\"grid lg:grid-cols-2 gap-8 mt-8\">\n        {/* Recent Commissions */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Recent Commissions</CardTitle>\n            <CardDescription>\n              Your latest commission earnings\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            {commissions?.commissions?.length > 0 ? (\n              <div className=\"space-y-4\">\n                {commissions.commissions.map((commission) => (\n                  <div key={commission.id} className=\"flex justify-between items-center\">\n                    <div>\n                      <p className=\"font-medium\">\n                        {formatCurrency(commission.amount)}\n                      </p>\n                      <p className=\"text-sm text-gray-600\">\n                        {formatDate(commission.created_at)}\n                      </p>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className={`text-xs px-2 py-1 rounded ${\n                        commission.status === 'paid' ? 'bg-green-100 text-green-800' :\n                        commission.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :\n                        'bg-gray-100 text-gray-800'\n                      }`}>\n                        {commission.status}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-gray-500 text-center py-8\">\n                No commissions yet. Start referring to earn!\n              </p>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Recent Referrals */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Recent Referrals</CardTitle>\n            <CardDescription>\n              People who signed up through your link\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            {referrals?.length > 0 ? (\n              <div className=\"space-y-4\">\n                {referrals.slice(0, 5).map((referral) => (\n                  <div key={referral.id} className=\"flex justify-between items-center\">\n                    <div>\n                      <p className=\"font-medium\">\n                        {referral.referred_user_name || 'Anonymous User'}\n                      </p>\n                      <p className=\"text-sm text-gray-600\">\n                        {formatDate(referral.created_at)}\n                      </p>\n                    </div>\n                    <div className={`text-xs px-2 py-1 rounded ${\n                      referral.has_subscribed ? 'bg-green-100 text-green-800' :\n                      'bg-gray-100 text-gray-800'\n                    }`}>\n                      {referral.has_subscribed ? 'Subscribed' : 'Signed up'}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <p className=\"text-gray-500 text-center py-8\">\n                No referrals yet. Share your link to get started!\n              </p>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default Affiliate;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}